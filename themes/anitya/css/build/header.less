
.top-bar {
	position: fixed;
	z-index: 100;
	top: @top-nav-top-size;
	left: 50%;
	// margin-left: defined in responsive.less
	height: @top-nav-height-size;

	background-color: @top-nav-bg-color;

	.transition(all .4s);

	.edit-bar & {
		top:48px;
	}

	.edit-mode & {
		position: relative;
		top:0;
	}

	&.fixedtop {
		width: 100%;
		top: 0px;
		left: 0px;
		margin-left: 0px;
		padding: 0;
		height: @top-nav-height-fixed-size;

		.edit-bar & {
			top:48px;
		}
		.logo img {
			max-height: @top-nav-height-fixed-size;
		}
		.dropdown-menu {
			top: (@top-nav-height-fixed-size)-3;
		}
		// Only for demo site
		.logo .svg-primary {
			margin-top: 5px;
			svg {
				width: 80px;
			}
		}
	}
	.logo {
		float: left;
		.transition(margin .4s);
		img, #responsive_logo img {
			display: block;
			max-height: @top-nav-height-size;
		}
	}
}

// --- Fixed a Hover Behavior -- \\
ul.nav li.dropdown:hover > ul.dropdown-menu {
    display: block;    
}

.main-nav {
	float: right;
	.nav {
		padding-right: 30px;
		& > li {
			padding: 0 10px;
			a.active {
				font-weight: 600;
			}
			& > a {
				font-family: @font-family-sans-serif;
				font-size: 14px;
		 		text-decoration: none;
		 		text-transform: uppercase;
		 		color: @top-nav-text-color;
		 		line-height: @top-nav-height-size;
				&:last-child {
			    	padding-right: 0;
				}
				.fixedtop & {
					line-height: @top-nav-height-fixed-size;
				}
		 	}
		}
	}
	ul ul ul{
		display: none;
	}	
}



@media screen and (max-width: 720px){
    
        height: auto;
    
    & nav {
        height: auto;
        width: auto;
        display: block;
        text-align: center;
    }
    
}


.intro, .ccm-intro-block {
	width: 100%;
//	background-image: defined in main.less
	background-color: @intro-image-default-color;
	background-size: auto;
	background-position: 50% 50%;
	position: relative;
	overflow: hidden;
	z-index: 0;
	// N'est généré que si il y a une video
	#video_header_bg { 
		margin: auto; 
		height: 100%;
	}
	.gotobottom {
		position: absolute;
		display: none;
		bottom: 80px;
		width: 100%;
		font-size: 60px;
		text-shadow: 0 0 12px fade(@brand-black-color,50%);
		color: @brand-white-color;
		text-align: center;
		z-index: 10;
	}
	// --- La gestion de la hauteur : --- \\
	// 1. Si l'utilisateur a demandé 0px, la hauteur de l'image sera celle du viewport (1vh)
	// 2. Si la page est en Edit-mode, la hauteur est fixée à 50px
	// 3. Quand l'attribut 'Thumbnail' est rempli, La hauteur est celle definie dans les options de thème
	// 4.  

	.edit-mode &  {
		height:50px;
		min-height: 50px;
	}
	&.with-image {
	//	height: @intro-image-height-size;
	// Cette regle semble estre prise en charge par la regle suivante
	}
	& when not(@intro-image-default-image = "") { 
		height: @intro-image-height-size;	
	}
	&.full_height { 
		height: 100vh;
		#intro-content {
			margin-top: 35vh;
		}
		.gotobottom {
			display: block;
		}
	}
	&.full-height { 
		height: 100vh;
		#intro-content {
			margin-top: 50vh;
		}
		.gotobottom {
			display: block;
		}
	}

	/**
	 * VH and VW units can cause issues on iOS devices: http://caniuse.com/#feat=viewport-units
	 * 
	 * To overcome this, create media queries that target the width, height, and orientation of iOS devices. 
	 * It isn't optimal, but there is really no other way to solve the problem. In this example, I am fixing 
	 * the height of element `.foo` —which is a full width and height cover image.
	 *
	 * iOS Resolution Quick Reference: http://www.iosres.com/
	 */
	 
	 
	/** 
	 * iPad with portrait orientation.
	 */
	@media all and (device-width: 768px) and (device-height: 1024px) and (orientation:portrait){
	    height: 1024px;
	}
	 
	/** 
	 * iPad with landscape orientation.
	 */
	@media all and (device-width: 768px) and (device-height: 1024px) and (orientation:landscape){
	    height: 768px;
	}
	 
	/**
	 * iPhone 5
	 * You can also target devices with aspect ratio.
	 */
	@media screen and (device-aspect-ratio: 40/71) {
	    height: 500px;
	}
}

.ccm-intro-block {
	height: auto;
}

#intro-content {
	position: absolute;
	left: 50%;
	margin-top:@intro-height-without-img-size / 2.5;
	z-index: 5;
	.with-image & {
		// margin-top:@intro-image-height-size / 2.5;
	}
	& when not(@intro-image-default-image = "") {
		margin-top:@intro-image-height-size / 3;	
	}
}

#sub-header-1 {
	background-color: @sub-header-1-bg-color;
	padding: 15px 0;
	h1, h2, h3 {
		margin: 0; padding: 0;
	}
}
#sub-header-2 {
	background-color: @sub-header-2-bg-color;
}

.clearfix:before, .clearfix:after { content: ""; display: table; }
.clearfix:after { clear: both; }
.clearfix { /* zoom: 1; */ }